1. receive message
2. prepare contact
3. handle side effects
4. handle message
   1. handle feat message related 
   2. handle room message related
      1. if is sync message, 
         1. push message to inbox message list
            1. initialize related contact room
      2. if is not sync message
         1. push message to inbox message list
            1. initialize related contact room
         2. update unread count
         3. notify user